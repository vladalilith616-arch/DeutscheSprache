<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ–º–∞ 1: Wie hei√üen Sie? - –£—Ä–æ–≤–µ–Ω—å A1 - DeutscheSprache</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- –¢–∞–∫–æ–π –∂–µ header –∫–∞–∫ –≤ level-a1.html -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="../../index.html" class="logo-link">
                    <div class="logo">DeutscheSprache</div>
                </a>
                <nav>
                    <ul>
                        <li><a href="../../index.html">–ì–ª–∞–≤–Ω–∞—è</a></li>
                        <li><a href="../../about.html">–û —Å–∞–π—Ç–µ</a></li>
                        <li class="auth-only" style="display: none;">
                            <a href="../../profile.html">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
                        </li>
                        <li class="auth-section">
                            <div id="userInfo" class="user-info" style="display: none;">
                                <div class="user-avatar" id="userAvatar">U</div>
                                <span id="userName">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                            </div>
                            <button id="authButton" class="auth-btn">–í–æ–π—Ç–∏</button>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <div id="topic-content">
    <!-- –¢–µ–º–∞ 4 A2 -->
    <div id="a2-t4" class="topic-container active-topic">
        <h2 class="topic-title">–¢–µ–º–∞ 4: Pr√§positionen (–ü—Ä–µ–¥–ª–æ–≥–∏)</h2>
        
        <div class="rules">
            <h3>–ü—Ä–∞–≤–∏–ª–∞ –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è</h3>
            <p>–ü—Ä–µ–¥–ª–æ–≥–∏ –≤ –Ω–µ–º–µ—Ü–∫–æ–º —è–∑—ã–∫–µ —É–ø—Ä–∞–≤–ª—è—é—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ –ø–∞–¥–µ–∂–∞–º–∏.</p>
            <ul>
                <li>–ü—Ä–µ–¥–ª–æ–≥–∏ —Å –¥–∞—Ç–µ–ª—å–Ω—ã–º –ø–∞–¥–µ–∂–æ–º: mit, nach, aus, zu, von, bei</li>
                <li>–ü—Ä–µ–¥–ª–æ–≥–∏ —Å –≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–º –ø–∞–¥–µ–∂–æ–º: f√ºr, durch, gegen, ohne, um</li>
                <li>–ü—Ä–µ–¥–ª–æ–≥–∏ —Å –¥–∞—Ç–µ–ª—å–Ω—ã–º/–≤–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–º: an, auf, hinter, in, neben, √ºber, unter, vor, zwischen</li>
            </ul>
        </div>
        
        <div class="exercise">
            <h3>–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ 1: –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ–¥–ª–æ–≥</h3>
            <div class="question">
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–µ–¥–ª–æ–≥:</p>
                <div class="options">
                    <div class="option">
                        <input type="radio" name="a2t4-ex1" id="a2t4-ex1-1" value="mit">
                        <label for="a2t4-ex1-1">Ich fahre ___ dem Auto.</label>
                    </div>
                    <div class="option">
                        <input type="radio" name="a2t4-ex1" id="a2t4-ex1-2" value="durch">
                        <label for="a2t4-ex1-2">Ich gehe ___ den Park.</label>
                    </div>
				<div class="exercise-controls">
						<button class="check-btn" onclick="checkExercise('a2t4-ex1')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
						<button class="reset-btn" onclick="resetExercise('a2t4-ex1')">–°–±—Ä–æ—Å–∏—Ç—å</button>
					</div>
					<div class="result" id="a2t4-ex1-result"></div>
				</div>
		</div>       
             <div class="page-navigation">
                <a href="../level-a2.html" class="nav-btn">‚Üê –ù–∞–∑–∞–¥ –∫ —É—Ä–æ–≤–Ω—é A2</a>
                <button class="nav-btn nav-btn-red complete-topic-btn" onclick="markTopicComplete('a2-t4')">
					–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ–º—É
				</button>
                <a href="topic5.html" class="nav-btn">–°–ª–µ–¥—É—é—â–∞—è —Ç–µ–º–∞ ‚Üí</a>
            </div>
        </div>
    </section>

    <footer>
		<div class="container">
			<div class="footer-content">
				<div class="logo">DeutscheSprache</div>
				<div class="footer-links">
					<a href="../index.html">–ì–ª–∞–≤–Ω–∞—è</a>
					<a href="../about.html">–û —Å–∞–π—Ç–µ</a>
				</div>
				<p>&copy; 2025 DeutscheSprache. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
			</div>
		</div>
	</footer>

    <script src="../../js/auth.js"></script>
    <script src="../../js/progress.js"></script>
    <script src="../../js/app.js"></script>
    <script>
        // –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
        document.addEventListener('DOMContentLoaded', function() {
            const currentUser = localStorage.getItem('currentUser');
            if (!currentUser) {
                alert('–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–¥–∞–Ω–∏—è–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è!');
                window.location.href = '../../index.html';
                return;
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ —Ç–µ–º—ã –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–π
function markTopicComplete(topicId) {
    const currentUser = localStorage.getItem('currentUser');
    const users = JSON.parse(localStorage.getItem('deutschUsers')) || {};
    
    if (!currentUser || !users[currentUser]) {
        showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å!', 'error');
        return;
    }
    
    const level = topicId.split('-')[0]; // 'a1'
    const topic = topicId; // 'a1-t1'
    
    if (!users[currentUser].progress[level].topics[topic]) {
        users[currentUser].progress[level].topics[topic] = true;
        users[currentUser].progress[level].completed++;
        users[currentUser].lastActivity = new Date().toISOString();
        
        localStorage.setItem('deutschUsers', JSON.stringify(users));
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        updateProgressDisplay();
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—Ä–∞—Å–∏–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        showNotification('–¢–µ–º–∞ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–∞—è! –í–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω.', 'success');
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ç–µ–º—ã
        const topicProgressElement = document.getElementById(`progress-${topicId}`);
        if (topicProgressElement) {
            topicProgressElement.style.width = '100%';
        }
        
        // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–º—ã
        updateCompleteButton();
        
    } else {
        showNotification('–≠—Ç–∞ —Ç–µ–º–∞ —É–∂–µ –æ—Ç–º–µ—á–µ–Ω–∞ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–∞—è.', 'info');
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–º—ã
function updateCompleteButton() {
    const currentUser = localStorage.getItem('currentUser');
    const users = JSON.parse(localStorage.getItem('deutschUsers')) || {};
    const currentPath = window.location.pathname;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º topicId –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ URL
    let topicId = '';
    if (currentPath.includes('topic1.html')) topicId = 'a1-t1';
    if (currentPath.includes('topic2.html')) topicId = 'a1-t2';
    // –î–æ–±–∞–≤—å—Ç–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏
    
    if (topicId && currentUser && users[currentUser] && 
        users[currentUser].progress.a1.topics[topicId]) {
        
        const completeButton = document.querySelector('.complete-topic-btn');
        if (completeButton) {
            completeButton.textContent = '–¢–µ–º–∞ —É–∂–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞';
            completeButton.disabled = true;
            completeButton.classList.add('completed');
            completeButton.classList.remove('btn-red');
        }
    }
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –∫—Ä–∞—Å–∏–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
function showNotification(message, type = 'success') {
    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    const notification = document.createElement('div');
    notification.className = `notification ${type}`;
    notification.innerHTML = `
        <div class="notification-content">
            <span class="notification-icon">${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : '‚Ñπ'}</span>
            <span class="notification-text">${message}</span>
        </div>
    `;
    
    // –î–æ–±–∞–≤–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
    document.body.appendChild(notification);
    
    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
    setTimeout(() => {
        notification.classList.add('show');
    }, 100);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ–º —á–µ—Ä–µ–∑ 4 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        notification.classList.remove('show');
        setTimeout(() => {
            if (notification.parentNode) {
                notification.parentNode.removeChild(notification);
            }
        }, 300);
    }, 4000);
}
// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ç–µ–º—ã
document.addEventListener('DOMContentLoaded', function() {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –ª–∏ —Ç–µ–º–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É
    updateCompleteButton();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
    const currentUser = localStorage.getItem('currentUser');
    if (!currentUser) {
        // –ï—Å–ª–∏ –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, —Å–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–º—ã
        const completeButton = document.querySelector('.complete-topic-btn');
        if (completeButton) {
            completeButton.style.display = 'none';
        }
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
        const authAlert = document.createElement('div');
        authAlert.className = 'auth-alert';
        authAlert.innerHTML = `
            <h3>üîí –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–º—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è</h3>
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, <span class="auth-link" onclick="openAuthModal()">–≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</span>, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å.</p>
        `;
        
        const pageNavigation = document.querySelector('.page-navigation');
        if (pageNavigation) {
            pageNavigation.parentNode.insertBefore(authAlert, pageNavigation);
        }
    }
});
    </script>
</body>
</html>