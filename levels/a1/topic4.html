<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <script src="scripts.js"></script>
    <title>Deutschsprache | Länder und Sprachen</title>
	<style>
			/* Basic Reset */
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: Arial, sans-serif;
			line-height: 1.6;
			background-color: #f4f4f4;
			color: #333;
		}

		header h1 {
			text-align: center;
			padding-top: 50px;
			font-size: 3rem;
		}

		#exercise-section ul {
			list-style-type: none;
			display: flex;
			justify-content: space-evenly;
			flex-wrap: wrap;
			gap: 20px;
			margin-bottom: 20px;
		}

		#exercise-section li {
			cursor: pointer;
			background-color: #fff;
			padding: 10px 20px;
			border-radius: 5px;
			box-shadow: 0 2px 5px rgba(0,0,0,.1);
			transition: transform .2s;
		}

		#exercise-section li:hover {
			transform: scale(1.05);
		}

		button {
			display: block;
			margin: auto;
			padding: 10px 20px;
			font-size: 1.2rem;
			background-color: #007bff;
			color: #fff;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			transition: all .2s;
		}

		button:hover {
			background-color: #0056b3;
		}

		#result-section p {
			text-align: center;
			font-weight: bold;
			font-size: 1.5rem;
			padding: 20px;
		}

		.correct {
			color: green;
		}

		.incorrect {
			color: red;
		}
	</style>		
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Länder und Sprachen</h1>
    </header>
    
    <!-- Main Content -->
    <main>
        <section id="exercise-section">
            <h2>Aufgabe 1: Verbinde die Länder mit den richtigen Sprachen.</h2>
            <ul id="countries-list">
                <li data-language="Deutschland">Deutschland</li>
                <li data-language="Frankreich">Frankreich</li>
                <li data-language="Italien">Italien</li>
                <li data-language="Russland">Russland</li>
            </ul>
            
            <ul id="languages-list">
                <li data-country="Deutschland">Deutsch</li>
                <li data-country="Frankreich">Französisch</li>
                <li data-country="Italien">Italienisch</li>
                <li data-country="Russland">Russisch</li>
            </ul>
            
            <button onclick="checkAnswers()">Überprüfen</button>
        </section>
        
        <section id="result-section" style="display:none;">
            <p id="result-message"></p>
        </section>
    </main>
    
    <!-- Footer -->
    <footer>
        © DeutscheSprache 2025
    </footer>
	
	<script>
	// Переменная для хранения правильных пар страна-справа
		const correctPairs = new Map([
			['Deutschland', 'Deutsch'],
			['Frankreich', 'Französisch'],
			['Italien', 'Italienisch'],
			['Russland', 'Russisch']
		]);

		// Обработчик кликов по странам и языкам
		document.querySelectorAll('#countries-list li').forEach(countryLi => {
			countryLi.onclick = () => connectCountryWithLanguage(countryLi.dataset.language);
		});

		document.querySelectorAll('#languages-list li').forEach(languageLi => {
			languageLi.onclick = () => connectCountryWithLanguage(languageLi.dataset.country);
		});

		let currentConnection = null;

		function connectCountryWithLanguage(value) {
			if (!currentConnection) {
				currentConnection = value;
			} else {
				checkPair(currentConnection, value);
				currentConnection = null;
			}
		}

		function checkPair(country, language) {
			if (correctPairs.get(country) === language || correctPairs.get(language) === country) {
				showResultMessage(`Korrekt! ${country} wird in ${language} gesprochen.`);
			} else {
				showResultMessage(`Falsche Antwort. Versuche es nochmal!`, true);
			}
		}

		function showResultMessage(message, isError=false) {
			const resultSection = document.getElementById('result-section');
			const resultMessage = document.getElementById('result-message');

			resultMessage.innerText = message;
			resultSection.style.display = 'block';

			if(isError){
				resultMessage.className = 'incorrect';
			}else{
				resultMessage.className = 'correct';
			}

			setTimeout(() => { resultSection.style.display = 'none';}, 3000);
		}

		function checkAnswers() {
			let countries = Array.from(document.querySelectorAll('#countries-list li'));
			let languages = Array.from(document.querySelectorAll('#languages-list li'));

			for(let i=0;i<countries.length;i++){
				let countryData = countries[i].dataset.language;
				let languageData = languages[i].dataset.country;

				if(correctPairs.get(countryData)!==languageData && correctPairs.get(languageData)!==countryData){
					return showResultMessage("Es gibt Fehler. Überprüfe deine Zuordnungen.",true);
				}
			}

			showResultMessage("Alle Antworten sind korrekt!");
		}
	 </script>
	
	<!-- Подключение основных скриптов -->
	<script src="../../js/auth.js"></script>
	<script src="../../js/progress.js"></script>
	<script src="../../js/password.js"></script>
	<script src="../../js/app.js"></script>
</body>
</html>